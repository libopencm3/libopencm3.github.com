<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libopencm3: desig_common_all.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libopencm3
   </div>
   <div id="projectbrief">A free/libre/open-source firmware library for various ARM Cortex-M3 microcontrollers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('desig__common__all_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">desig_common_all.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="desig_8h_source.html">libopencm3/stm32/desig.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for desig_common_all.c:</div>
<div class="dyncontent">
<div class="center"><img src="desig__common__all_8c__incl.png" border="0" usemap="#adesig__common__all_8c" alt=""/></div>
<map name="adesig__common__all_8c" id="adesig__common__all_8c">
<area shape="rect" title=" " alt="" coords="152,5,307,32"/>
<area shape="rect" href="desig_8h.html" title=" " alt="" coords="132,80,327,107"/>
<area shape="rect" href="common_8h.html" title=" " alt="" coords="5,155,208,181"/>
<area shape="rect" href="stm32_2memorymap_8h.html" title=" " alt="" coords="232,155,475,181"/>
<area shape="rect" title=" " alt="" coords="21,229,91,256"/>
<area shape="rect" title=" " alt="" coords="116,229,199,256"/>
</map>
</div>
</div>
<p><a href="desig__common__all_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8a552ad9c91201643dadccf3044ce0f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="desig__common__all_8c.html#a8a552ad9c91201643dadccf3044ce0f5">desig_get_unique_id_as_string</a> (char *string, unsigned int string_len)</td></tr>
<tr class="memdesc:a8a552ad9c91201643dadccf3044ce0f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the full 96 bit unique identifier and return it as a zero-terminated string.  <a href="desig__common__all_8c.html#a8a552ad9c91201643dadccf3044ce0f5">More...</a><br /></td></tr>
<tr class="separator:a8a552ad9c91201643dadccf3044ce0f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1965f5faba844391efa3f6e046d42e31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="desig__common__all_8c.html#a1965f5faba844391efa3f6e046d42e31">desig_get_unique_id_as_dfu</a> (char *string)</td></tr>
<tr class="memdesc:a1965f5faba844391efa3f6e046d42e31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the same serial number from the unique id registers as the DFU bootloader.  <a href="desig__common__all_8c.html#a1965f5faba844391efa3f6e046d42e31">More...</a><br /></td></tr>
<tr class="separator:a1965f5faba844391efa3f6e046d42e31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1965f5faba844391efa3f6e046d42e31" name="a1965f5faba844391efa3f6e046d42e31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1965f5faba844391efa3f6e046d42e31">&#9670;&nbsp;</a></span>desig_get_unique_id_as_dfu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void desig_get_unique_id_as_dfu </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate the same serial number from the unique id registers as the DFU bootloader. </p>
<p >This document: <a href="http://www.usb.org/developers/docs/devclass_docs/usbmassbulk_10.pdf">http://www.usb.org/developers/docs/devclass_docs/usbmassbulk_10.pdf</a> says that the serial number has to be at least 12 digits long and that the last 12 digits need to be unique. It also stipulates that the valid character set is that of upper-case hexadecimal digits. The onboard DFU bootloader produces a 12-digit serial based on the 96-bit unique ID. Show the serial with <code>dfu-util -l</code> while the MCU is in DFU mode. </p><dl class="section see"><dt>See also</dt><dd><a href="https://my.st.com/52d187b7">https://my.st.com/52d187b7</a> for the algorithim used. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>pointer to store serial in, must be at least 13 bytes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="desig__common__all_8c_source.html#l00043">43</a> of file <a class="el" href="desig__common__all_8c_source.html">desig_common_all.c</a>.</p>

<p class="reference">References <a class="el" href="desig__common__v1_8c_source.html#l00027">desig_get_unique_id()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="desig__common__all_8c_a1965f5faba844391efa3f6e046d42e31_cgraph.png" border="0" usemap="#adesig__common__all_8c_a1965f5faba844391efa3f6e046d42e31_cgraph" alt=""/></div>
<map name="adesig__common__all_8c_a1965f5faba844391efa3f6e046d42e31_cgraph" id="adesig__common__all_8c_a1965f5faba844391efa3f6e046d42e31_cgraph">
<area shape="rect" title="Generate the same serial number from the unique id registers as the DFU bootloader." alt="" coords="5,5,160,47"/>
<area shape="rect" href="desig__common__v1_8c.html#a3cd0901d044d03766a710d05a2e6cd13" title="Read the full 96 bit unique identifier Note: ST specifies that bits 31..16 are also reserved for futu..." alt="" coords="208,13,363,39"/>
</map>
</div>

</div>
</div>
<a id="a8a552ad9c91201643dadccf3044ce0f5" name="a8a552ad9c91201643dadccf3044ce0f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a552ad9c91201643dadccf3044ce0f5">&#9670;&nbsp;</a></span>desig_get_unique_id_as_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void desig_get_unique_id_as_string </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>string_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the full 96 bit unique identifier and return it as a zero-terminated string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>memory region to write the result to </td></tr>
    <tr><td class="paramname">string_len</td><td>the size of string in bytes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="desig__common__all_8c_source.html#l00022">22</a> of file <a class="el" href="desig__common__all_8c_source.html">desig_common_all.c</a>.</p>

<p class="reference">References <a class="el" href="desig__common__v1_8c_source.html#l00027">desig_get_unique_id()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="desig__common__all_8c_a8a552ad9c91201643dadccf3044ce0f5_cgraph.png" border="0" usemap="#adesig__common__all_8c_a8a552ad9c91201643dadccf3044ce0f5_cgraph" alt=""/></div>
<map name="adesig__common__all_8c_a8a552ad9c91201643dadccf3044ce0f5_cgraph" id="adesig__common__all_8c_a8a552ad9c91201643dadccf3044ce0f5_cgraph">
<area shape="rect" title="Read the full 96 bit unique identifier and return it as a zero&#45;terminated string." alt="" coords="5,5,160,47"/>
<area shape="rect" href="desig__common__v1_8c.html#a3cd0901d044d03766a710d05a2e6cd13" title="Read the full 96 bit unique identifier Note: ST specifies that bits 31..16 are also reserved for futu..." alt="" coords="208,13,363,39"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_4ec17005d2b9378bd9434f3627484c7d.html">stm32</a></li><li class="navelem"><a class="el" href="dir_205c2b2ce3ef6e2ec6e02a16510d5024.html">common</a></li><li class="navelem"><a class="el" href="desig__common__all_8c.html">desig_common_all.c</a></li>
    <li class="footer">Generated on Tue Mar 7 2023 16:12:00 for libopencm3 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
