<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libopencm3: FLASH peripheral API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libopencm3
   </div>
   <div id="projectbrief">A free/libre/open-source firmware library for various ARM Cortex-M3 microcontrollers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__flash__file.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">FLASH peripheral API<div class="ingroups"><a class="el" href="group__peripheral__apis.html">Peripheral APIs</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><b>libopencm3 STM32F1xx FLASH Memory</b>  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for FLASH peripheral API:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file.png" border="0" usemap="#agroup____flash____file" alt=""/></div>
<map name="agroup____flash____file" id="agroup____flash____file">
<area shape="rect" title="libopencm3 STM32F1xx FLASH Memory" alt="" coords="173,5,333,31"/>
<area shape="rect" href="group__peripheral__apis.html" title="APIs for device peripherals." alt="" coords="5,5,125,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0f76604d23e55a997cef486d8f93c8f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga0f76604d23e55a997cef486d8f93c8f7">flash_prefetch_enable</a> (void)</td></tr>
<tr class="memdesc:ga0f76604d23e55a997cef486d8f93c8f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This buffer is used for instruction fetches and may or may not be enabled by default, depending on platform.  <a href="group__flash__file.html#ga0f76604d23e55a997cef486d8f93c8f7">More...</a><br /></td></tr>
<tr class="separator:ga0f76604d23e55a997cef486d8f93c8f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b35f387b1aa45b20bccc40456cb33fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga1b35f387b1aa45b20bccc40456cb33fc">flash_prefetch_disable</a> (void)</td></tr>
<tr class="memdesc:ga1b35f387b1aa45b20bccc40456cb33fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note carefully the clock restrictions under which the prefetch buffer may be set to disabled.  <a href="group__flash__file.html#ga1b35f387b1aa45b20bccc40456cb33fc">More...</a><br /></td></tr>
<tr class="separator:ga1b35f387b1aa45b20bccc40456cb33fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9347b16d27d64b79f507dc9cad8633b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga9347b16d27d64b79f507dc9cad8633b2">flash_set_ws</a> (uint32_t ws)</td></tr>
<tr class="memdesc:ga9347b16d27d64b79f507dc9cad8633b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Number of Wait States.  <a href="group__flash__file.html#ga9347b16d27d64b79f507dc9cad8633b2">More...</a><br /></td></tr>
<tr class="separator:ga9347b16d27d64b79f507dc9cad8633b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5458fca5ecb9ec90b21bebbb64c861c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga5458fca5ecb9ec90b21bebbb64c861c4">flash_unlock_option_bytes</a> (void)</td></tr>
<tr class="memdesc:ga5458fca5ecb9ec90b21bebbb64c861c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the Option Byte Access.  <a href="group__flash__file.html#ga5458fca5ecb9ec90b21bebbb64c861c4">More...</a><br /></td></tr>
<tr class="separator:ga5458fca5ecb9ec90b21bebbb64c861c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b028c13f819606dfb542931cc87c22e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga8b028c13f819606dfb542931cc87c22e">flash_clear_pgerr_flag</a> (void)</td></tr>
<tr class="memdesc:ga8b028c13f819606dfb542931cc87c22e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the Flash Program and Erase Controller.  <a href="group__flash__file.html#ga8b028c13f819606dfb542931cc87c22e">More...</a><br /></td></tr>
<tr class="separator:ga8b028c13f819606dfb542931cc87c22e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c1b3869d9a031db08c634e7f8a396bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga9c1b3869d9a031db08c634e7f8a396bb">flash_clear_wrprterr_flag</a> (void)</td></tr>
<tr class="memdesc:ga9c1b3869d9a031db08c634e7f8a396bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the Write Protect Error Status Flag.  <a href="group__flash__file.html#ga9c1b3869d9a031db08c634e7f8a396bb">More...</a><br /></td></tr>
<tr class="separator:ga9c1b3869d9a031db08c634e7f8a396bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72ce389bb20296771479ace8cdb62dff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga72ce389bb20296771479ace8cdb62dff">flash_wait_for_last_operation</a> (void)</td></tr>
<tr class="memdesc:ga72ce389bb20296771479ace8cdb62dff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until Last Operation has Ended.  <a href="group__flash__file.html#ga72ce389bb20296771479ace8cdb62dff">More...</a><br /></td></tr>
<tr class="separator:ga72ce389bb20296771479ace8cdb62dff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73937aa6df8710e95425b165730626a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga73937aa6df8710e95425b165730626a2">flash_program_word</a> (uint32_t address, uint32_t data)</td></tr>
<tr class="memdesc:ga73937aa6df8710e95425b165730626a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Program a 32 bit Word to FLASH.  <a href="group__flash__file.html#ga73937aa6df8710e95425b165730626a2">More...</a><br /></td></tr>
<tr class="separator:ga73937aa6df8710e95425b165730626a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6242ed6be7838125093c9b8b6adeeca1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga6242ed6be7838125093c9b8b6adeeca1">flash_erase_option_bytes</a> (void)</td></tr>
<tr class="memdesc:ga6242ed6be7838125093c9b8b6adeeca1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase All Option Bytes.  <a href="group__flash__file.html#ga6242ed6be7838125093c9b8b6adeeca1">More...</a><br /></td></tr>
<tr class="separator:ga6242ed6be7838125093c9b8b6adeeca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab759a6e89a54cfb15a60c0e8f4eb66df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#gab759a6e89a54cfb15a60c0e8f4eb66df">flash_program_option_bytes</a> (uint32_t address, uint16_t data)</td></tr>
<tr class="memdesc:gab759a6e89a54cfb15a60c0e8f4eb66df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Program the Option Bytes.  <a href="group__flash__file.html#gab759a6e89a54cfb15a60c0e8f4eb66df">More...</a><br /></td></tr>
<tr class="separator:gab759a6e89a54cfb15a60c0e8f4eb66df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4da79f8ffb9ed9576ca165e74f496dbe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga4da79f8ffb9ed9576ca165e74f496dbe">flash_unlock</a> (void)</td></tr>
<tr class="memdesc:ga4da79f8ffb9ed9576ca165e74f496dbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the Flash Program and Erase Controller This enables write access to the Flash memory.  <a href="group__flash__file.html#ga4da79f8ffb9ed9576ca165e74f496dbe">More...</a><br /></td></tr>
<tr class="separator:ga4da79f8ffb9ed9576ca165e74f496dbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd9e0d8e9f52bd1c65fda2ce553f7600"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#gacd9e0d8e9f52bd1c65fda2ce553f7600">flash_lock</a> (void)</td></tr>
<tr class="memdesc:gacd9e0d8e9f52bd1c65fda2ce553f7600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the Flash Program and Erase Controller Used to prevent spurious writes to FLASH.  <a href="group__flash__file.html#gacd9e0d8e9f52bd1c65fda2ce553f7600">More...</a><br /></td></tr>
<tr class="separator:gacd9e0d8e9f52bd1c65fda2ce553f7600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga824b51d54d30e1ab5e3c47f4bc8b3031"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga824b51d54d30e1ab5e3c47f4bc8b3031">flash_clear_eop_flag</a> (void)</td></tr>
<tr class="memdesc:ga824b51d54d30e1ab5e3c47f4bc8b3031"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the End of OPeration flag.  <a href="group__flash__file.html#ga824b51d54d30e1ab5e3c47f4bc8b3031">More...</a><br /></td></tr>
<tr class="separator:ga824b51d54d30e1ab5e3c47f4bc8b3031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1bac4f23619580572e4d2d1c947c8b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#gad1bac4f23619580572e4d2d1c947c8b8">flash_halfcycle_enable</a> (void)</td></tr>
<tr class="memdesc:gad1bac4f23619580572e4d2d1c947c8b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the FLASH Half Cycle Mode.  <a href="group__flash__file.html#gad1bac4f23619580572e4d2d1c947c8b8">More...</a><br /></td></tr>
<tr class="separator:gad1bac4f23619580572e4d2d1c947c8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b840fef744d2ba6c4b7108256ec082a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga8b840fef744d2ba6c4b7108256ec082a">flash_halfcycle_disable</a> (void)</td></tr>
<tr class="memdesc:ga8b840fef744d2ba6c4b7108256ec082a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the FLASH Half Cycle Mode.  <a href="group__flash__file.html#ga8b840fef744d2ba6c4b7108256ec082a">More...</a><br /></td></tr>
<tr class="separator:ga8b840fef744d2ba6c4b7108256ec082a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2b0fabb1eaf6de3228948793bca2aeb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#gab2b0fabb1eaf6de3228948793bca2aeb">flash_unlock_upper</a> (void)</td></tr>
<tr class="memdesc:gab2b0fabb1eaf6de3228948793bca2aeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the Flash Program and Erase Controller, upper Bank.  <a href="group__flash__file.html#gab2b0fabb1eaf6de3228948793bca2aeb">More...</a><br /></td></tr>
<tr class="separator:gab2b0fabb1eaf6de3228948793bca2aeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01d8520fdc401f95ed7e0823c2be891a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga01d8520fdc401f95ed7e0823c2be891a">flash_lock_upper</a> (void)</td></tr>
<tr class="memdesc:ga01d8520fdc401f95ed7e0823c2be891a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the Flash Program and Erase Controller, upper Bank.  <a href="group__flash__file.html#ga01d8520fdc401f95ed7e0823c2be891a">More...</a><br /></td></tr>
<tr class="separator:ga01d8520fdc401f95ed7e0823c2be891a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga747583805875c2008de75d23f9eaf410"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga747583805875c2008de75d23f9eaf410">flash_clear_pgerr_flag_upper</a> (void)</td></tr>
<tr class="memdesc:ga747583805875c2008de75d23f9eaf410"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the Programming Error Status Flag, upper Bank.  <a href="group__flash__file.html#ga747583805875c2008de75d23f9eaf410">More...</a><br /></td></tr>
<tr class="separator:ga747583805875c2008de75d23f9eaf410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf47d7e8bd53d4ac625b221c00a9023c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#gaf47d7e8bd53d4ac625b221c00a9023c5">flash_clear_eop_flag_upper</a> (void)</td></tr>
<tr class="memdesc:gaf47d7e8bd53d4ac625b221c00a9023c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the End of Operation Status Flag, upper Bank.  <a href="group__flash__file.html#gaf47d7e8bd53d4ac625b221c00a9023c5">More...</a><br /></td></tr>
<tr class="separator:gaf47d7e8bd53d4ac625b221c00a9023c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00228368638689988b5cdb9a7b24a142"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga00228368638689988b5cdb9a7b24a142">flash_clear_wrprterr_flag_upper</a> (void)</td></tr>
<tr class="memdesc:ga00228368638689988b5cdb9a7b24a142"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the Write Protect Error Status Flag, upper Bank.  <a href="group__flash__file.html#ga00228368638689988b5cdb9a7b24a142">More...</a><br /></td></tr>
<tr class="separator:ga00228368638689988b5cdb9a7b24a142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8bf42e68b53ee74583675289608dae65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga8bf42e68b53ee74583675289608dae65">flash_clear_status_flags</a> (void)</td></tr>
<tr class="memdesc:ga8bf42e68b53ee74583675289608dae65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear All Status Flags.  <a href="group__flash__file.html#ga8bf42e68b53ee74583675289608dae65">More...</a><br /></td></tr>
<tr class="separator:ga8bf42e68b53ee74583675289608dae65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5afd52a33a55a6423d536eca1f04933b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga5afd52a33a55a6423d536eca1f04933b">flash_get_status_flags</a> (void)</td></tr>
<tr class="memdesc:ga5afd52a33a55a6423d536eca1f04933b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read All Status Flags.  <a href="group__flash__file.html#ga5afd52a33a55a6423d536eca1f04933b">More...</a><br /></td></tr>
<tr class="separator:ga5afd52a33a55a6423d536eca1f04933b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5077b5726c70fa9418db9d73182f89d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#gaf5077b5726c70fa9418db9d73182f89d">flash_program_half_word</a> (uint32_t address, uint16_t data)</td></tr>
<tr class="memdesc:gaf5077b5726c70fa9418db9d73182f89d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Program a Half Word to FLASH.  <a href="group__flash__file.html#gaf5077b5726c70fa9418db9d73182f89d">More...</a><br /></td></tr>
<tr class="separator:gaf5077b5726c70fa9418db9d73182f89d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0aee649731aaa8c1316c12f5bea7c31b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#ga0aee649731aaa8c1316c12f5bea7c31b">flash_erase_page</a> (uint32_t page_address)</td></tr>
<tr class="memdesc:ga0aee649731aaa8c1316c12f5bea7c31b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase a Page of FLASH.  <a href="group__flash__file.html#ga0aee649731aaa8c1316c12f5bea7c31b">More...</a><br /></td></tr>
<tr class="separator:ga0aee649731aaa8c1316c12f5bea7c31b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1804e22fb8a901f3a5f85535aa1ff7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__file.html#gaf1804e22fb8a901f3a5f85535aa1ff7b">flash_erase_all_pages</a> (void)</td></tr>
<tr class="memdesc:gaf1804e22fb8a901f3a5f85535aa1ff7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase All FLASH.  <a href="group__flash__file.html#gaf1804e22fb8a901f3a5f85535aa1ff7b">More...</a><br /></td></tr>
<tr class="separator:gaf1804e22fb8a901f3a5f85535aa1ff7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p ><b>libopencm3 STM32F1xx FLASH Memory</b> </p>
<dl class="section version"><dt>Version</dt><dd>1.0.0</dd></dl>
<dl class="section author"><dt>Author</dt><dd> &copy;  2010 Thomas Otto <a href="#" onclick="location.href='mai'+'lto:'+'tom'+'mi'+'@vi'+'ad'+'min'+'.o'+'rg'; return false;">tommi<span class="obfuscator">.nosp@m.</span>@via<span class="obfuscator">.nosp@m.</span>dmin.<span class="obfuscator">.nosp@m.</span>org</a> </dd>
<dd>
 &copy;  2010 Mark Butler <a href="#" onclick="location.href='mai'+'lto:'+'mbu'+'tl'+'er@'+'ph'+'ysi'+'cs'+'.ot'+'ag'+'o.a'+'c.'+'nz'; return false;">mbutl<span class="obfuscator">.nosp@m.</span>er@p<span class="obfuscator">.nosp@m.</span>hysic<span class="obfuscator">.nosp@m.</span>s.ot<span class="obfuscator">.nosp@m.</span>ago.a<span class="obfuscator">.nosp@m.</span>c.nz</a></dd></dl>
<dl class="section date"><dt>Date</dt><dd>14 January 2014</dd></dl>
<p>For the STM32F1xx, accessing FLASH memory is described briefly in section 3.3.3 of the STM32F10x Reference Manual. For detailed programming information see: PM0075 programming manual: STM32F10xxx Flash programming August 2010, Doc ID 17863 Rev 1 <a href="https://github.com/libopencm3/libopencm3-archive/blob/master/st_micro/CD00283419.pdf">https://github.com/libopencm3/libopencm3-archive/blob/master/st_micro/CD00283419.pdf</a></p>
<p >FLASH memory may be used for data storage as well as code, and may be programmatically modified. Note that for firmware upload the STM32F1xx provides a built-in bootloader in system memory that can be entered from a running program.</p>
<p >FLASH must first be unlocked before programming. In this module a write to FLASH is a blocking operation until the end-of-operation flag is asserted.</p>
<dl class="section note"><dt>Note</dt><dd>: don't forget to lock it again when all operations are complete.</dd></dl>
<p>For the large memory XL series, with two banks of FLASH, the upper bank is accessed with a second set of registers. In principle both banks can be written simultaneously, or one read while the other is written. This module does not support the simultaneous write feature.</p>
<p >LGPL License Terms <a class="el" href="lgpl_license.html">libopencm3 License</a> </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga824b51d54d30e1ab5e3c47f4bc8b3031" name="ga824b51d54d30e1ab5e3c47f4bc8b3031"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga824b51d54d30e1ab5e3c47f4bc8b3031">&#9670;&nbsp;</a></span>flash_clear_eop_flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_clear_eop_flag </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the End of OPeration flag. </p>

<p class="definition">Definition at line <a class="el" href="flash__common__f_8c_source.html#l00041">41</a> of file <a class="el" href="flash__common__f_8c_source.html">flash_common_f.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00043">FLASH_SR</a>, and <a class="el" href="f1_2flash_8h_source.html#l00082">FLASH_SR_EOP</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash_8c_source.html#l00164">flash_clear_status_flags()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga824b51d54d30e1ab5e3c47f4bc8b3031_icgraph.png" border="0" usemap="#agroup__flash__file_ga824b51d54d30e1ab5e3c47f4bc8b3031_icgraph" alt=""/></div>
<map name="agroup__flash__file_ga824b51d54d30e1ab5e3c47f4bc8b3031_icgraph" id="agroup__flash__file_ga824b51d54d30e1ab5e3c47f4bc8b3031_icgraph">
<area shape="rect" title="Clear the End of OPeration flag." alt="" coords="192,13,347,39"/>
<area shape="rect" href="group__flash__file.html#ga8bf42e68b53ee74583675289608dae65" title="Clear all status flags." alt="" coords="5,5,144,47"/>
</map>
</div>

</div>
</div>
<a id="gaf47d7e8bd53d4ac625b221c00a9023c5" name="gaf47d7e8bd53d4ac625b221c00a9023c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf47d7e8bd53d4ac625b221c00a9023c5">&#9670;&nbsp;</a></span>flash_clear_eop_flag_upper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_clear_eop_flag_upper </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the End of Operation Status Flag, upper Bank. </p>

<p class="definition">Definition at line <a class="el" href="flash_8c_source.html#l00139">139</a> of file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>

<p class="reference">References <a class="el" href="desig__common__v1_8c_source.html#l00022">desig_get_flash_size()</a>, <a class="el" href="flash__common__f01_8h_source.html#l00050">FLASH_SR2</a>, and <a class="el" href="f1_2flash_8h_source.html#l00082">FLASH_SR_EOP</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash_8c_source.html#l00164">flash_clear_status_flags()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_gaf47d7e8bd53d4ac625b221c00a9023c5_cgraph.png" border="0" usemap="#agroup__flash__file_gaf47d7e8bd53d4ac625b221c00a9023c5_cgraph" alt=""/></div>
<map name="agroup__flash__file_gaf47d7e8bd53d4ac625b221c00a9023c5_cgraph" id="agroup__flash__file_gaf47d7e8bd53d4ac625b221c00a9023c5_cgraph">
<area shape="rect" title="Clear the End of Operation Status Flag, upper Bank." alt="" coords="5,5,160,47"/>
<area shape="rect" href="desig__common__v1_8c.html#a3dd3e16f359d093b546f5c9e3cde1957" title="Read the on board flash size." alt="" coords="208,13,364,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_gaf47d7e8bd53d4ac625b221c00a9023c5_icgraph.png" border="0" usemap="#agroup__flash__file_gaf47d7e8bd53d4ac625b221c00a9023c5_icgraph" alt=""/></div>
<map name="agroup__flash__file_gaf47d7e8bd53d4ac625b221c00a9023c5_icgraph" id="agroup__flash__file_gaf47d7e8bd53d4ac625b221c00a9023c5_icgraph">
<area shape="rect" title="Clear the End of Operation Status Flag, upper Bank." alt="" coords="192,5,347,47"/>
<area shape="rect" href="group__flash__file.html#ga8bf42e68b53ee74583675289608dae65" title="Clear all status flags." alt="" coords="5,5,144,47"/>
</map>
</div>

</div>
</div>
<a id="ga8b028c13f819606dfb542931cc87c22e" name="ga8b028c13f819606dfb542931cc87c22e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8b028c13f819606dfb542931cc87c22e">&#9670;&nbsp;</a></span>flash_clear_pgerr_flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_clear_pgerr_flag </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock the Flash Program and Erase Controller. </p>
<p >This enables write access to the Flash memory. It is locked by default on reset.</p>
<p >Clear the Programming Error Status Flag </p>

<p class="definition">Definition at line <a class="el" href="flash__common__f01_8c_source.html#l00042">42</a> of file <a class="el" href="flash__common__f01_8c_source.html">flash_common_f01.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00043">FLASH_SR</a>, and <a class="el" href="f1_2flash_8h_source.html#l00084">FLASH_SR_PGERR</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash_8c_source.html#l00164">flash_clear_status_flags()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga8b028c13f819606dfb542931cc87c22e_icgraph.png" border="0" usemap="#agroup__flash__file_ga8b028c13f819606dfb542931cc87c22e_icgraph" alt=""/></div>
<map name="agroup__flash__file_ga8b028c13f819606dfb542931cc87c22e_icgraph" id="agroup__flash__file_ga8b028c13f819606dfb542931cc87c22e_icgraph">
<area shape="rect" title="Unlock the Flash Program and Erase Controller." alt="" coords="192,13,356,39"/>
<area shape="rect" href="group__flash__file.html#ga8bf42e68b53ee74583675289608dae65" title="Clear all status flags." alt="" coords="5,5,144,47"/>
</map>
</div>

</div>
</div>
<a id="ga747583805875c2008de75d23f9eaf410" name="ga747583805875c2008de75d23f9eaf410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga747583805875c2008de75d23f9eaf410">&#9670;&nbsp;</a></span>flash_clear_pgerr_flag_upper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_clear_pgerr_flag_upper </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the Programming Error Status Flag, upper Bank. </p>

<p class="definition">Definition at line <a class="el" href="flash_8c_source.html#l00127">127</a> of file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>

<p class="reference">References <a class="el" href="desig__common__v1_8c_source.html#l00022">desig_get_flash_size()</a>, <a class="el" href="flash__common__f01_8h_source.html#l00050">FLASH_SR2</a>, and <a class="el" href="f1_2flash_8h_source.html#l00084">FLASH_SR_PGERR</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash_8c_source.html#l00164">flash_clear_status_flags()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga747583805875c2008de75d23f9eaf410_cgraph.png" border="0" usemap="#agroup__flash__file_ga747583805875c2008de75d23f9eaf410_cgraph" alt=""/></div>
<map name="agroup__flash__file_ga747583805875c2008de75d23f9eaf410_cgraph" id="agroup__flash__file_ga747583805875c2008de75d23f9eaf410_cgraph">
<area shape="rect" title="Clear the Programming Error Status Flag, upper Bank." alt="" coords="5,5,169,47"/>
<area shape="rect" href="desig__common__v1_8c.html#a3dd3e16f359d093b546f5c9e3cde1957" title="Read the on board flash size." alt="" coords="217,13,373,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga747583805875c2008de75d23f9eaf410_icgraph.png" border="0" usemap="#agroup__flash__file_ga747583805875c2008de75d23f9eaf410_icgraph" alt=""/></div>
<map name="agroup__flash__file_ga747583805875c2008de75d23f9eaf410_icgraph" id="agroup__flash__file_ga747583805875c2008de75d23f9eaf410_icgraph">
<area shape="rect" title="Clear the Programming Error Status Flag, upper Bank." alt="" coords="192,5,356,47"/>
<area shape="rect" href="group__flash__file.html#ga8bf42e68b53ee74583675289608dae65" title="Clear all status flags." alt="" coords="5,5,144,47"/>
</map>
</div>

</div>
</div>
<a id="ga8bf42e68b53ee74583675289608dae65" name="ga8bf42e68b53ee74583675289608dae65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8bf42e68b53ee74583675289608dae65">&#9670;&nbsp;</a></span>flash_clear_status_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_clear_status_flags </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear All Status Flags. </p>
<p >Clear all status flags.</p>
<p >Program error, end of operation, write protect error, busy. Both banks cleared. </p>

<p class="definition">Definition at line <a class="el" href="flash_8c_source.html#l00164">164</a> of file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>

<p class="reference">References <a class="el" href="desig__common__v1_8c_source.html#l00022">desig_get_flash_size()</a>, <a class="el" href="flash__common__f_8c_source.html#l00041">flash_clear_eop_flag()</a>, <a class="el" href="flash_8c_source.html#l00139">flash_clear_eop_flag_upper()</a>, <a class="el" href="flash__common__f01_8c_source.html#l00042">flash_clear_pgerr_flag()</a>, <a class="el" href="flash_8c_source.html#l00127">flash_clear_pgerr_flag_upper()</a>, <a class="el" href="flash__common__f01_8c_source.html#l00052">flash_clear_wrprterr_flag()</a>, and <a class="el" href="flash_8c_source.html#l00151">flash_clear_wrprterr_flag_upper()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga8bf42e68b53ee74583675289608dae65_cgraph.png" border="0" usemap="#agroup__flash__file_ga8bf42e68b53ee74583675289608dae65_cgraph" alt=""/></div>
<map name="agroup__flash__file_ga8bf42e68b53ee74583675289608dae65_cgraph" id="agroup__flash__file_ga8bf42e68b53ee74583675289608dae65_cgraph">
<area shape="rect" title="Clear All Status Flags." alt="" coords="5,153,144,194"/>
<area shape="rect" href="desig__common__v1_8c.html#a3dd3e16f359d093b546f5c9e3cde1957" title="Read the on board flash size." alt="" coords="423,160,579,187"/>
<area shape="rect" href="group__flash__file.html#ga824b51d54d30e1ab5e3c47f4bc8b3031" title="Clear the End of OPeration flag." alt="" coords="206,43,361,70"/>
<area shape="rect" href="group__flash__file.html#gaf47d7e8bd53d4ac625b221c00a9023c5" title="Clear the End of Operation Status Flag, upper Bank." alt="" coords="206,94,361,136"/>
<area shape="rect" href="group__flash__file.html#ga8b028c13f819606dfb542931cc87c22e" title="Unlock the Flash Program and Erase Controller." alt="" coords="201,160,365,187"/>
<area shape="rect" href="group__flash__file.html#ga747583805875c2008de75d23f9eaf410" title="Clear the Programming Error Status Flag, upper Bank." alt="" coords="201,212,365,253"/>
<area shape="rect" href="group__flash__file.html#ga9c1b3869d9a031db08c634e7f8a396bb" title="Clear the Write Protect Error Status Flag." alt="" coords="192,278,375,304"/>
<area shape="rect" href="group__flash__file.html#ga00228368638689988b5cdb9a7b24a142" title="Clear the Write Protect Error Status Flag, upper Bank." alt="" coords="208,329,359,370"/>
</map>
</div>

</div>
</div>
<a id="ga9c1b3869d9a031db08c634e7f8a396bb" name="ga9c1b3869d9a031db08c634e7f8a396bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c1b3869d9a031db08c634e7f8a396bb">&#9670;&nbsp;</a></span>flash_clear_wrprterr_flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_clear_wrprterr_flag </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the Write Protect Error Status Flag. </p>

<p class="definition">Definition at line <a class="el" href="flash__common__f01_8c_source.html#l00052">52</a> of file <a class="el" href="flash__common__f01_8c_source.html">flash_common_f01.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00043">FLASH_SR</a>, and <a class="el" href="f1_2flash_8h_source.html#l00083">FLASH_SR_WRPRTERR</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash_8c_source.html#l00164">flash_clear_status_flags()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga9c1b3869d9a031db08c634e7f8a396bb_icgraph.png" border="0" usemap="#agroup__flash__file_ga9c1b3869d9a031db08c634e7f8a396bb_icgraph" alt=""/></div>
<map name="agroup__flash__file_ga9c1b3869d9a031db08c634e7f8a396bb_icgraph" id="agroup__flash__file_ga9c1b3869d9a031db08c634e7f8a396bb_icgraph">
<area shape="rect" title="Clear the Write Protect Error Status Flag." alt="" coords="192,13,375,39"/>
<area shape="rect" href="group__flash__file.html#ga8bf42e68b53ee74583675289608dae65" title="Clear all status flags." alt="" coords="5,5,144,47"/>
</map>
</div>

</div>
</div>
<a id="ga00228368638689988b5cdb9a7b24a142" name="ga00228368638689988b5cdb9a7b24a142"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00228368638689988b5cdb9a7b24a142">&#9670;&nbsp;</a></span>flash_clear_wrprterr_flag_upper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_clear_wrprterr_flag_upper </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the Write Protect Error Status Flag, upper Bank. </p>

<p class="definition">Definition at line <a class="el" href="flash_8c_source.html#l00151">151</a> of file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>

<p class="reference">References <a class="el" href="desig__common__v1_8c_source.html#l00022">desig_get_flash_size()</a>, <a class="el" href="flash__common__f01_8h_source.html#l00050">FLASH_SR2</a>, and <a class="el" href="f1_2flash_8h_source.html#l00083">FLASH_SR_WRPRTERR</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash_8c_source.html#l00164">flash_clear_status_flags()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga00228368638689988b5cdb9a7b24a142_cgraph.png" border="0" usemap="#agroup__flash__file_ga00228368638689988b5cdb9a7b24a142_cgraph" alt=""/></div>
<map name="agroup__flash__file_ga00228368638689988b5cdb9a7b24a142_cgraph" id="agroup__flash__file_ga00228368638689988b5cdb9a7b24a142_cgraph">
<area shape="rect" title="Clear the Write Protect Error Status Flag, upper Bank." alt="" coords="5,5,156,47"/>
<area shape="rect" href="desig__common__v1_8c.html#a3dd3e16f359d093b546f5c9e3cde1957" title="Read the on board flash size." alt="" coords="204,13,360,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga00228368638689988b5cdb9a7b24a142_icgraph.png" border="0" usemap="#agroup__flash__file_ga00228368638689988b5cdb9a7b24a142_icgraph" alt=""/></div>
<map name="agroup__flash__file_ga00228368638689988b5cdb9a7b24a142_icgraph" id="agroup__flash__file_ga00228368638689988b5cdb9a7b24a142_icgraph">
<area shape="rect" title="Clear the Write Protect Error Status Flag, upper Bank." alt="" coords="192,5,343,47"/>
<area shape="rect" href="group__flash__file.html#ga8bf42e68b53ee74583675289608dae65" title="Clear all status flags." alt="" coords="5,5,144,47"/>
</map>
</div>

</div>
</div>
<a id="gaf1804e22fb8a901f3a5f85535aa1ff7b" name="gaf1804e22fb8a901f3a5f85535aa1ff7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1804e22fb8a901f3a5f85535aa1ff7b">&#9670;&nbsp;</a></span>flash_erase_all_pages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_erase_all_pages </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase All FLASH. </p>
<p >This performs all operations necessary to erase all user pages in the FLASH memory. The information block is unaffected. </p>

<p class="definition">Definition at line <a class="el" href="flash_8c_source.html#l00284">284</a> of file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00044">FLASH_CR</a>, <a class="el" href="flash__common__f01_8h_source.html#l00051">FLASH_CR2</a>, <a class="el" href="flash__common__f01_8h_source.html#l00084">FLASH_CR_MER</a>, <a class="el" href="flash__common__f01_8h_source.html#l00081">FLASH_CR_STRT</a>, and <a class="el" href="flash__common__f01_8c_source.html#l00064">flash_wait_for_last_operation()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_gaf1804e22fb8a901f3a5f85535aa1ff7b_cgraph.png" border="0" usemap="#agroup__flash__file_gaf1804e22fb8a901f3a5f85535aa1ff7b_cgraph" alt=""/></div>
<map name="agroup__flash__file_gaf1804e22fb8a901f3a5f85535aa1ff7b_cgraph" id="agroup__flash__file_gaf1804e22fb8a901f3a5f85535aa1ff7b_cgraph">
<area shape="rect" title="Erase All FLASH." alt="" coords="5,13,171,39"/>
<area shape="rect" href="group__flash__file.html#ga72ce389bb20296771479ace8cdb62dff" title="Wait until Last Operation has Ended." alt="" coords="219,5,363,47"/>
<area shape="rect" href="group__flash__file.html#ga5afd52a33a55a6423d536eca1f04933b" title="Read All Status Flags." alt="" coords="411,13,577,39"/>
<area shape="rect" href="desig__common__v1_8c.html#a3dd3e16f359d093b546f5c9e3cde1957" title="Read the on board flash size." alt="" coords="625,13,781,39"/>
</map>
</div>

</div>
</div>
<a id="ga6242ed6be7838125093c9b8b6adeeca1" name="ga6242ed6be7838125093c9b8b6adeeca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6242ed6be7838125093c9b8b6adeeca1">&#9670;&nbsp;</a></span>flash_erase_option_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_erase_option_bytes </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase All Option Bytes. </p>
<p >This performs all operations necessary to erase the option bytes. These must first be fully erased before attempting to program them, therefore it is recommended to check these after an erase attempt. </p>

<p class="definition">Definition at line <a class="el" href="flash__common__f01_8c_source.html#l00096">96</a> of file <a class="el" href="flash__common__f01_8c_source.html">flash_common_f01.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00044">FLASH_CR</a>, <a class="el" href="flash__common__f01_8h_source.html#l00082">FLASH_CR_OPTER</a>, <a class="el" href="flash__common__f01_8h_source.html#l00079">FLASH_CR_OPTWRE</a>, <a class="el" href="flash__common__f01_8h_source.html#l00081">FLASH_CR_STRT</a>, <a class="el" href="flash__common__all_8c_source.html#l00046">flash_unlock_option_bytes()</a>, and <a class="el" href="flash__common__f01_8c_source.html#l00064">flash_wait_for_last_operation()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga6242ed6be7838125093c9b8b6adeeca1_cgraph.png" border="0" usemap="#agroup__flash__file_ga6242ed6be7838125093c9b8b6adeeca1_cgraph" alt=""/></div>
<map name="agroup__flash__file_ga6242ed6be7838125093c9b8b6adeeca1_cgraph" id="agroup__flash__file_ga6242ed6be7838125093c9b8b6adeeca1_cgraph">
<area shape="rect" title="Erase All Option Bytes." alt="" coords="5,39,149,80"/>
<area shape="rect" href="group__flash__file.html#ga5458fca5ecb9ec90b21bebbb64c861c4" title="Unlock the Option Byte Access." alt="" coords="197,5,348,47"/>
<area shape="rect" href="group__flash__file.html#ga72ce389bb20296771479ace8cdb62dff" title="Wait until Last Operation has Ended." alt="" coords="201,71,345,112"/>
<area shape="rect" href="group__flash__file.html#ga5afd52a33a55a6423d536eca1f04933b" title="Read All Status Flags." alt="" coords="396,78,563,105"/>
<area shape="rect" href="desig__common__v1_8c.html#a3dd3e16f359d093b546f5c9e3cde1957" title="Read the on board flash size." alt="" coords="611,78,767,105"/>
</map>
</div>

</div>
</div>
<a id="ga0aee649731aaa8c1316c12f5bea7c31b" name="ga0aee649731aaa8c1316c12f5bea7c31b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0aee649731aaa8c1316c12f5bea7c31b">&#9670;&nbsp;</a></span>flash_erase_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_erase_page </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>page_address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase a Page of FLASH. </p>
<p >This performs all operations necessary to erase a page in FLASH memory. The page should be checked to ensure that it was properly erased. A page must first be fully erased before attempting to program it.</p>
<p >Note that the page sizes differ between devices. See the reference manual or the FLASH programming manual for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">page_address</td><td>Full address of flash page to be erased. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="flash_8c_source.html#l00252">252</a> of file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>

<p class="reference">References <a class="el" href="desig__common__v1_8c_source.html#l00022">desig_get_flash_size()</a>, <a class="el" href="flash__common__f01_8h_source.html#l00045">FLASH_AR</a>, <a class="el" href="flash__common__f01_8h_source.html#l00052">FLASH_AR2</a>, <a class="el" href="stm32_2f1_2memorymap_8h_source.html#l00028">FLASH_BASE</a>, <a class="el" href="flash__common__f01_8h_source.html#l00044">FLASH_CR</a>, <a class="el" href="flash__common__f01_8h_source.html#l00051">FLASH_CR2</a>, <a class="el" href="flash__common__f01_8h_source.html#l00085">FLASH_CR_PER</a>, <a class="el" href="flash__common__f01_8h_source.html#l00081">FLASH_CR_STRT</a>, and <a class="el" href="flash__common__f01_8c_source.html#l00064">flash_wait_for_last_operation()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga0aee649731aaa8c1316c12f5bea7c31b_cgraph.png" border="0" usemap="#agroup__flash__file_ga0aee649731aaa8c1316c12f5bea7c31b_cgraph" alt=""/></div>
<map name="agroup__flash__file_ga0aee649731aaa8c1316c12f5bea7c31b_cgraph" id="agroup__flash__file_ga0aee649731aaa8c1316c12f5bea7c31b_cgraph">
<area shape="rect" title="Erase a Page of FLASH." alt="" coords="5,5,140,32"/>
<area shape="rect" href="desig__common__v1_8c.html#a3dd3e16f359d093b546f5c9e3cde1957" title="Read the on board flash size." alt="" coords="595,5,751,32"/>
<area shape="rect" href="group__flash__file.html#ga72ce389bb20296771479ace8cdb62dff" title="Wait until Last Operation has Ended." alt="" coords="188,27,332,69"/>
<area shape="rect" href="group__flash__file.html#ga5afd52a33a55a6423d536eca1f04933b" title="Read All Status Flags." alt="" coords="380,31,547,57"/>
</map>
</div>

</div>
</div>
<a id="ga5afd52a33a55a6423d536eca1f04933b" name="ga5afd52a33a55a6423d536eca1f04933b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5afd52a33a55a6423d536eca1f04933b">&#9670;&nbsp;</a></span>flash_get_status_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t flash_get_status_flags </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read All Status Flags. </p>
<p >The programming error, end of operation, write protect error and busy flags are returned in the order of appearance in the status register.</p>
<p >Flags for the upper bank, where appropriate, are combined with those for the lower bank using bitwise OR, without distinction.</p>
<dl class="section return"><dt>Returns</dt><dd>uint32_t. bit 0: busy, bit 2: programming error, bit 4: write protect error, bit 5: end of operation. </dd></dl>

<p class="definition">Definition at line <a class="el" href="flash_8c_source.html#l00189">189</a> of file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>

<p class="reference">References <a class="el" href="desig__common__v1_8c_source.html#l00022">desig_get_flash_size()</a>, <a class="el" href="flash__common__f01_8h_source.html#l00043">FLASH_SR</a>, <a class="el" href="flash__common__f01_8h_source.html#l00050">FLASH_SR2</a>, <a class="el" href="f1_2flash_8h_source.html#l00085">FLASH_SR_BSY</a>, <a class="el" href="f1_2flash_8h_source.html#l00082">FLASH_SR_EOP</a>, <a class="el" href="f1_2flash_8h_source.html#l00084">FLASH_SR_PGERR</a>, and <a class="el" href="f1_2flash_8h_source.html#l00083">FLASH_SR_WRPRTERR</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash__common__f01_8c_source.html#l00064">flash_wait_for_last_operation()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga5afd52a33a55a6423d536eca1f04933b_cgraph.png" border="0" usemap="#agroup__flash__file_ga5afd52a33a55a6423d536eca1f04933b_cgraph" alt=""/></div>
<map name="agroup__flash__file_ga5afd52a33a55a6423d536eca1f04933b_cgraph" id="agroup__flash__file_ga5afd52a33a55a6423d536eca1f04933b_cgraph">
<area shape="rect" title="Read All Status Flags." alt="" coords="5,5,172,32"/>
<area shape="rect" href="desig__common__v1_8c.html#a3dd3e16f359d093b546f5c9e3cde1957" title="Read the on board flash size." alt="" coords="220,5,376,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga5afd52a33a55a6423d536eca1f04933b_icgraph.png" border="0" usemap="#agroup__flash__file_ga5afd52a33a55a6423d536eca1f04933b_icgraph" alt=""/></div>
<map name="agroup__flash__file_ga5afd52a33a55a6423d536eca1f04933b_icgraph" id="agroup__flash__file_ga5afd52a33a55a6423d536eca1f04933b_icgraph">
<area shape="rect" title="Read All Status Flags." alt="" coords="635,123,801,149"/>
<area shape="rect" href="group__flash__file.html#ga72ce389bb20296771479ace8cdb62dff" title="Wait until Last Operation has Ended." alt="" coords="443,115,587,157"/>
<area shape="rect" href="group__flash__file.html#gaf1804e22fb8a901f3a5f85535aa1ff7b" title="Erase All FLASH." alt="" coords="219,5,384,32"/>
<area shape="rect" href="group__flash__file.html#ga6242ed6be7838125093c9b8b6adeeca1" title="Erase All Option Bytes." alt="" coords="229,57,373,98"/>
<area shape="rect" href="group__flash__file.html#ga0aee649731aaa8c1316c12f5bea7c31b" title="Erase a Page of FLASH." alt="" coords="234,123,369,149"/>
<area shape="rect" href="group__flash__file.html#gaf5077b5726c70fa9418db9d73182f89d" title="Program a Half Word to FLASH." alt="" coords="208,173,395,200"/>
<area shape="rect" href="group__flash__file.html#gab759a6e89a54cfb15a60c0e8f4eb66df" title="Program the Option Bytes." alt="" coords="220,225,383,266"/>
<area shape="rect" href="group__flash__file.html#ga73937aa6df8710e95425b165730626a2" title="Program a 32 bit Word to FLASH." alt="" coords="5,173,160,200"/>
</map>
</div>

</div>
</div>
<a id="ga8b840fef744d2ba6c4b7108256ec082a" name="ga8b840fef744d2ba6c4b7108256ec082a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8b840fef744d2ba6c4b7108256ec082a">&#9670;&nbsp;</a></span>flash_halfcycle_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_halfcycle_disable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable the FLASH Half Cycle Mode. </p>

<p class="definition">Definition at line <a class="el" href="flash_8c_source.html#l00086">86</a> of file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00040">FLASH_ACR</a>.</p>

</div>
</div>
<a id="gad1bac4f23619580572e4d2d1c947c8b8" name="gad1bac4f23619580572e4d2d1c947c8b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1bac4f23619580572e4d2d1c947c8b8">&#9670;&nbsp;</a></span>flash_halfcycle_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_halfcycle_enable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable the FLASH Half Cycle Mode. </p>
<p >This mode is used for power saving during read access. It is disabled by default on reset.</p>
<p >Note carefully the clock restrictions under which the half cycle mode may be enabled or disabled. This mode may only be used while the clock is running at 8MHz. See the reference manual for details. </p>

<p class="definition">Definition at line <a class="el" href="flash_8c_source.html#l00076">76</a> of file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00040">FLASH_ACR</a>, and <a class="el" href="f1_2flash_8h_source.html#l00078">FLASH_ACR_HLFCYA</a>.</p>

</div>
</div>
<a id="gacd9e0d8e9f52bd1c65fda2ce553f7600" name="gacd9e0d8e9f52bd1c65fda2ce553f7600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd9e0d8e9f52bd1c65fda2ce553f7600">&#9670;&nbsp;</a></span>flash_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_lock </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock the Flash Program and Erase Controller Used to prevent spurious writes to FLASH. </p>

<p class="definition">Definition at line <a class="el" href="flash__common__f_8c_source.html#l00035">35</a> of file <a class="el" href="flash__common__f_8c_source.html">flash_common_f.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00044">FLASH_CR</a>, and <a class="el" href="flash__common__f01_8h_source.html#l00080">FLASH_CR_LOCK</a>.</p>

</div>
</div>
<a id="ga01d8520fdc401f95ed7e0823c2be891a" name="ga01d8520fdc401f95ed7e0823c2be891a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga01d8520fdc401f95ed7e0823c2be891a">&#9670;&nbsp;</a></span>flash_lock_upper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_lock_upper </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock the Flash Program and Erase Controller, upper Bank. </p>
<p >Used to prevent spurious writes to FLASH. </p>

<p class="definition">Definition at line <a class="el" href="flash_8c_source.html#l00117">117</a> of file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00051">FLASH_CR2</a>, and <a class="el" href="flash__common__f01_8h_source.html#l00080">FLASH_CR_LOCK</a>.</p>

</div>
</div>
<a id="ga1b35f387b1aa45b20bccc40456cb33fc" name="ga1b35f387b1aa45b20bccc40456cb33fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b35f387b1aa45b20bccc40456cb33fc">&#9670;&nbsp;</a></span>flash_prefetch_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_prefetch_disable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Note carefully the clock restrictions under which the prefetch buffer may be set to disabled. </p>
<p >See the reference manual for details. </p>

<p class="definition">Definition at line <a class="el" href="flash__common__all_8c_source.html#l00031">31</a> of file <a class="el" href="flash__common__all_8c_source.html">flash_common_all.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00040">FLASH_ACR</a>.</p>

</div>
</div>
<a id="ga0f76604d23e55a997cef486d8f93c8f7" name="ga0f76604d23e55a997cef486d8f93c8f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0f76604d23e55a997cef486d8f93c8f7">&#9670;&nbsp;</a></span>flash_prefetch_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_prefetch_enable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This buffer is used for instruction fetches and may or may not be enabled by default, depending on platform. </p>
<p >(F1: yes, most others: no)</p>
<p >Note carefully the clock restrictions under which the prefetch buffer may be enabled or disabled. Changes are normally made while the clock is running in the power-on low frequency mode before being set to a higher speed mode.</p>
<p >Note carefully that prefetch may also results in increased consumption and can only improve performance on "mostly linear" workloads where there is at least one flash wait state.</p>
<p >See the reference manual for your particular target for more details. </p>

<p class="definition">Definition at line <a class="el" href="flash__common__all_8c_source.html#l00026">26</a> of file <a class="el" href="flash__common__all_8c_source.html">flash_common_all.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00040">FLASH_ACR</a>, and <a class="el" href="flash__common__f01_8h_source.html#l00066">FLASH_ACR_PRFTEN</a>.</p>

</div>
</div>
<a id="gaf5077b5726c70fa9418db9d73182f89d" name="gaf5077b5726c70fa9418db9d73182f89d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf5077b5726c70fa9418db9d73182f89d">&#9670;&nbsp;</a></span>flash_program_half_word()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_program_half_word </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Program a Half Word to FLASH. </p>
<p >This performs all operations necessary to program a 16 bit word to FLASH memory. The program error flag should be checked separately for the event that memory was not properly erased.</p>
<p >Status bit polling is used to detect end of operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Full address of flash half word to be programmed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>half word to write </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="flash_8c_source.html#l00218">218</a> of file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>

<p class="reference">References <a class="el" href="desig__common__v1_8c_source.html#l00022">desig_get_flash_size()</a>, <a class="el" href="stm32_2f1_2memorymap_8h_source.html#l00028">FLASH_BASE</a>, <a class="el" href="flash__common__f01_8h_source.html#l00044">FLASH_CR</a>, <a class="el" href="flash__common__f01_8h_source.html#l00051">FLASH_CR2</a>, <a class="el" href="flash__common__f01_8h_source.html#l00086">FLASH_CR_PG</a>, <a class="el" href="flash__common__f01_8c_source.html#l00064">flash_wait_for_last_operation()</a>, and <a class="el" href="common_8h_source.html#l00068">MMIO16</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash__common__f01_8c_source.html#l00082">flash_program_word()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_gaf5077b5726c70fa9418db9d73182f89d_cgraph.png" border="0" usemap="#agroup__flash__file_gaf5077b5726c70fa9418db9d73182f89d_cgraph" alt=""/></div>
<map name="agroup__flash__file_gaf5077b5726c70fa9418db9d73182f89d_cgraph" id="agroup__flash__file_gaf5077b5726c70fa9418db9d73182f89d_cgraph">
<area shape="rect" title="Program a Half Word to FLASH." alt="" coords="5,5,192,32"/>
<area shape="rect" href="desig__common__v1_8c.html#a3dd3e16f359d093b546f5c9e3cde1957" title="Read the on board flash size." alt="" coords="647,5,803,32"/>
<area shape="rect" href="group__flash__file.html#ga72ce389bb20296771479ace8cdb62dff" title="Wait until Last Operation has Ended." alt="" coords="240,27,384,69"/>
<area shape="rect" href="group__flash__file.html#ga5afd52a33a55a6423d536eca1f04933b" title="Read All Status Flags." alt="" coords="432,31,599,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_gaf5077b5726c70fa9418db9d73182f89d_icgraph.png" border="0" usemap="#agroup__flash__file_gaf5077b5726c70fa9418db9d73182f89d_icgraph" alt=""/></div>
<map name="agroup__flash__file_gaf5077b5726c70fa9418db9d73182f89d_icgraph" id="agroup__flash__file_gaf5077b5726c70fa9418db9d73182f89d_icgraph">
<area shape="rect" title="Program a Half Word to FLASH." alt="" coords="208,5,395,32"/>
<area shape="rect" href="group__flash__file.html#ga73937aa6df8710e95425b165730626a2" title="Program a 32 bit Word to FLASH." alt="" coords="5,5,160,32"/>
</map>
</div>

</div>
</div>
<a id="gab759a6e89a54cfb15a60c0e8f4eb66df" name="gab759a6e89a54cfb15a60c0e8f4eb66df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab759a6e89a54cfb15a60c0e8f4eb66df">&#9670;&nbsp;</a></span>flash_program_option_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_program_option_bytes </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Program the Option Bytes. </p>
<p >This performs all operations necessary to program the option bytes. The write protect error flag should be checked separately for the event that an option byte had not been properly erased before calling this function.</p>
<p >Only the lower 8 bits of the data is significant.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Address of option byte from <a class="el" href="group__flash__options.html">Option Byte Addresses</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>value to write </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="flash__common__f01_8c_source.html#l00123">123</a> of file <a class="el" href="flash__common__f01_8c_source.html">flash_common_f01.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00044">FLASH_CR</a>, <a class="el" href="flash__common__f01_8h_source.html#l00083">FLASH_CR_OPTPG</a>, <a class="el" href="flash__common__f01_8h_source.html#l00079">FLASH_CR_OPTWRE</a>, <a class="el" href="flash__common__all_8c_source.html#l00046">flash_unlock_option_bytes()</a>, <a class="el" href="flash__common__f01_8c_source.html#l00064">flash_wait_for_last_operation()</a>, and <a class="el" href="common_8h_source.html#l00068">MMIO16</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_gab759a6e89a54cfb15a60c0e8f4eb66df_cgraph.png" border="0" usemap="#agroup__flash__file_gab759a6e89a54cfb15a60c0e8f4eb66df_cgraph" alt=""/></div>
<map name="agroup__flash__file_gab759a6e89a54cfb15a60c0e8f4eb66df_cgraph" id="agroup__flash__file_gab759a6e89a54cfb15a60c0e8f4eb66df_cgraph">
<area shape="rect" title="Program the Option Bytes." alt="" coords="5,39,168,80"/>
<area shape="rect" href="group__flash__file.html#ga5458fca5ecb9ec90b21bebbb64c861c4" title="Unlock the Option Byte Access." alt="" coords="216,5,367,47"/>
<area shape="rect" href="group__flash__file.html#ga72ce389bb20296771479ace8cdb62dff" title="Wait until Last Operation has Ended." alt="" coords="219,71,363,112"/>
<area shape="rect" href="group__flash__file.html#ga5afd52a33a55a6423d536eca1f04933b" title="Read All Status Flags." alt="" coords="415,78,581,105"/>
<area shape="rect" href="desig__common__v1_8c.html#a3dd3e16f359d093b546f5c9e3cde1957" title="Read the on board flash size." alt="" coords="629,78,785,105"/>
</map>
</div>

</div>
</div>
<a id="ga73937aa6df8710e95425b165730626a2" name="ga73937aa6df8710e95425b165730626a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga73937aa6df8710e95425b165730626a2">&#9670;&nbsp;</a></span>flash_program_word()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_program_word </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Program a 32 bit Word to FLASH. </p>
<p >This performs all operations necessary to program a 32 bit word to FLASH memory. The program error flag should be checked separately for the event that memory was not properly erased.</p>
<p >Status bit polling is used to detect end of operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Full address of flash word to be programmed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>word to write </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="flash__common__f01_8c_source.html#l00082">82</a> of file <a class="el" href="flash__common__f01_8c_source.html">flash_common_f01.c</a>.</p>

<p class="reference">References <a class="el" href="flash_8c_source.html#l00218">flash_program_half_word()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga73937aa6df8710e95425b165730626a2_cgraph.png" border="0" usemap="#agroup__flash__file_ga73937aa6df8710e95425b165730626a2_cgraph" alt=""/></div>
<map name="agroup__flash__file_ga73937aa6df8710e95425b165730626a2_cgraph" id="agroup__flash__file_ga73937aa6df8710e95425b165730626a2_cgraph">
<area shape="rect" title="Program a 32 bit Word to FLASH." alt="" coords="5,5,160,32"/>
<area shape="rect" href="group__flash__file.html#gaf5077b5726c70fa9418db9d73182f89d" title="Program a Half Word to FLASH." alt="" coords="208,5,395,32"/>
<area shape="rect" href="desig__common__v1_8c.html#a3dd3e16f359d093b546f5c9e3cde1957" title="Read the on board flash size." alt="" coords="849,5,1005,32"/>
<area shape="rect" href="group__flash__file.html#ga72ce389bb20296771479ace8cdb62dff" title="Wait until Last Operation has Ended." alt="" coords="443,27,587,69"/>
<area shape="rect" href="group__flash__file.html#ga5afd52a33a55a6423d536eca1f04933b" title="Read All Status Flags." alt="" coords="635,31,801,57"/>
</map>
</div>

</div>
</div>
<a id="ga9347b16d27d64b79f507dc9cad8633b2" name="ga9347b16d27d64b79f507dc9cad8633b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9347b16d27d64b79f507dc9cad8633b2">&#9670;&nbsp;</a></span>flash_set_ws()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_set_ws </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ws</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the Number of Wait States. </p>
<p >Used to match the system clock to the FLASH memory access time. See the programming manual for more information on clock speed ranges. The latency must be changed to the appropriate value <b>before</b> any increase in clock speed, or <b>after</b> any decrease in clock speed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ws</td><td>values from <a class="el" href="group__flash__latency.html">FLASH Wait States</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="flash__common__all_8c_source.html#l00036">36</a> of file <a class="el" href="flash__common__all_8c_source.html">flash_common_all.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00040">FLASH_ACR</a>, <a class="el" href="flash__common__f01_8h_source.html#l00061">FLASH_ACR_LATENCY_MASK</a>, and <a class="el" href="flash__common__f01_8h_source.html#l00060">FLASH_ACR_LATENCY_SHIFT</a>.</p>

<p class="reference">Referenced by <a class="el" href="rcc_8c_source.html#l01032">rcc_clock_setup_in_hse_12mhz_out_72mhz()</a>, <a class="el" href="rcc_8c_source.html#l01096">rcc_clock_setup_in_hse_16mhz_out_72mhz()</a>, <a class="el" href="rcc_8c_source.html#l01160">rcc_clock_setup_in_hse_25mhz_out_72mhz()</a>, <a class="el" href="rcc_8c_source.html#l00904">rcc_clock_setup_in_hse_8mhz_out_24mhz()</a>, <a class="el" href="rcc_8c_source.html#l00968">rcc_clock_setup_in_hse_8mhz_out_72mhz()</a>, <a class="el" href="rcc_8c_source.html#l00851">rcc_clock_setup_in_hsi_out_24mhz()</a>, <a class="el" href="rcc_8c_source.html#l00797">rcc_clock_setup_in_hsi_out_48mhz()</a>, <a class="el" href="rcc_8c_source.html#l00744">rcc_clock_setup_in_hsi_out_64mhz()</a>, and <a class="el" href="rcc_8c_source.html#l01213">rcc_clock_setup_pll()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga9347b16d27d64b79f507dc9cad8633b2_icgraph.png" border="0" usemap="#agroup__flash__file_ga9347b16d27d64b79f507dc9cad8633b2_icgraph" alt=""/></div>
<map name="agroup__flash__file_ga9347b16d27d64b79f507dc9cad8633b2_icgraph" id="agroup__flash__file_ga9347b16d27d64b79f507dc9cad8633b2_icgraph">
<area shape="rect" title="Set the Number of Wait States." alt="" coords="236,274,341,301"/>
<area shape="rect" href="group__rcc__file.html#gae6012c8bf33f8cfa406a37ef88e9a47b" title="RCC Set System Clock PLL at 72MHz from HSE at 12MHz." alt="" coords="5,5,188,47"/>
<area shape="rect" href="group__rcc__file.html#gaec148e144431957a5a0dff4d3ce581b1" title="RCC Set System Clock PLL at 72MHz from HSE at 16MHz." alt="" coords="5,71,188,112"/>
<area shape="rect" href="group__rcc__file.html#gae61f5759a5cbcd628e873e951ade7f1b" title="RCC Set System Clock PLL at 72MHz from HSE at 25MHz." alt="" coords="5,136,188,177"/>
<area shape="rect" href="group__rcc__file.html#ga2a1d0a3e6272c2268ed5b560fb37262c" title="RCC Set System Clock PLL at 24MHz from HSE at 8MHz." alt="" coords="9,201,184,243"/>
<area shape="rect" href="group__rcc__file.html#ga7de5e411afdd8f22d01d91613acfc844" title="RCC Set System Clock PLL at 72MHz from HSE at 8MHz." alt="" coords="9,267,184,308"/>
<area shape="rect" href="group__rcc__file.html#ga63c14a3f3ed2799c6ad21564f97d0e99" title="RCC Set System Clock PLL at 24MHz from HSI." alt="" coords="25,332,169,373"/>
<area shape="rect" href="group__rcc__file.html#gadd6354a9a1404b23b5baa00b51b03cc2" title="RCC Set System Clock PLL at 48MHz from HSI." alt="" coords="25,397,169,439"/>
<area shape="rect" href="group__rcc__file.html#gae75d09f5953c113b10c266937e0d36a7" title="RCC Set System Clock PLL at 64MHz from HSI." alt="" coords="25,463,169,504"/>
<area shape="rect" href="group__rcc__file.html#ga4bbf49936af50688a96ec4f309f710c6" title="Switch sysclock to PLL with the given parameters." alt="" coords="23,529,171,555"/>
</map>
</div>

</div>
</div>
<a id="ga4da79f8ffb9ed9576ca165e74f496dbe" name="ga4da79f8ffb9ed9576ca165e74f496dbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4da79f8ffb9ed9576ca165e74f496dbe">&#9670;&nbsp;</a></span>flash_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_unlock </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock the Flash Program and Erase Controller This enables write access to the Flash memory. </p>
<p >It is locked by default on reset. </p>

<p class="definition">Definition at line <a class="el" href="flash__common__f_8c_source.html#l00028">28</a> of file <a class="el" href="flash__common__f_8c_source.html">flash_common_f.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00041">FLASH_KEYR</a>, <a class="el" href="flash__common__f01_8h_source.html#l00095">FLASH_KEYR_KEY1</a>, and <a class="el" href="flash__common__f01_8h_source.html#l00096">FLASH_KEYR_KEY2</a>.</p>

</div>
</div>
<a id="ga5458fca5ecb9ec90b21bebbb64c861c4" name="ga5458fca5ecb9ec90b21bebbb64c861c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5458fca5ecb9ec90b21bebbb64c861c4">&#9670;&nbsp;</a></span>flash_unlock_option_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_unlock_option_bytes </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock the Option Byte Access. </p>
<p >This enables write access to the option bytes. It is locked by default on reset. </p>

<p class="definition">Definition at line <a class="el" href="flash__common__all_8c_source.html#l00046">46</a> of file <a class="el" href="flash__common__all_8c_source.html">flash_common_all.c</a>.</p>

<p class="reference">References <a class="el" href="flash__common__f01_8h_source.html#l00042">FLASH_OPTKEYR</a>, <a class="el" href="flash__common__f01_8h_source.html#l00098">FLASH_OPTKEYR_KEY1</a>, and <a class="el" href="flash__common__f01_8h_source.html#l00099">FLASH_OPTKEYR_KEY2</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash__common__f01_8c_source.html#l00096">flash_erase_option_bytes()</a>, and <a class="el" href="flash__common__f01_8c_source.html#l00123">flash_program_option_bytes()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga5458fca5ecb9ec90b21bebbb64c861c4_icgraph.png" border="0" usemap="#agroup__flash__file_ga5458fca5ecb9ec90b21bebbb64c861c4_icgraph" alt=""/></div>
<map name="agroup__flash__file_ga5458fca5ecb9ec90b21bebbb64c861c4_icgraph" id="agroup__flash__file_ga5458fca5ecb9ec90b21bebbb64c861c4_icgraph">
<area shape="rect" title="Unlock the Option Byte Access." alt="" coords="216,39,367,80"/>
<area shape="rect" href="group__flash__file.html#ga6242ed6be7838125093c9b8b6adeeca1" title="Erase All Option Bytes." alt="" coords="15,5,159,47"/>
<area shape="rect" href="group__flash__file.html#gab759a6e89a54cfb15a60c0e8f4eb66df" title="Program the Option Bytes." alt="" coords="5,71,168,112"/>
</map>
</div>

</div>
</div>
<a id="gab2b0fabb1eaf6de3228948793bca2aeb" name="gab2b0fabb1eaf6de3228948793bca2aeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2b0fabb1eaf6de3228948793bca2aeb">&#9670;&nbsp;</a></span>flash_unlock_upper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_unlock_upper </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock the Flash Program and Erase Controller, upper Bank. </p>
<p >This enables write access to the upper bank of the Flash memory in XL devices. It is locked by default on reset. </p>

<p class="definition">Definition at line <a class="el" href="flash_8c_source.html#l00098">98</a> of file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>

<p class="reference">References <a class="el" href="desig__common__v1_8c_source.html#l00022">desig_get_flash_size()</a>, <a class="el" href="flash__common__f01_8h_source.html#l00051">FLASH_CR2</a>, <a class="el" href="flash__common__f01_8h_source.html#l00080">FLASH_CR_LOCK</a>, <a class="el" href="flash__common__f01_8h_source.html#l00049">FLASH_KEYR2</a>, <a class="el" href="flash__common__f01_8h_source.html#l00095">FLASH_KEYR_KEY1</a>, and <a class="el" href="flash__common__f01_8h_source.html#l00096">FLASH_KEYR_KEY2</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_gab2b0fabb1eaf6de3228948793bca2aeb_cgraph.png" border="0" usemap="#agroup__flash__file_gab2b0fabb1eaf6de3228948793bca2aeb_cgraph" alt=""/></div>
<map name="agroup__flash__file_gab2b0fabb1eaf6de3228948793bca2aeb_cgraph" id="agroup__flash__file_gab2b0fabb1eaf6de3228948793bca2aeb_cgraph">
<area shape="rect" title="Unlock the Flash Program and Erase Controller, upper Bank." alt="" coords="5,5,152,32"/>
<area shape="rect" href="desig__common__v1_8c.html#a3dd3e16f359d093b546f5c9e3cde1957" title="Read the on board flash size." alt="" coords="200,5,356,32"/>
</map>
</div>

</div>
</div>
<a id="ga72ce389bb20296771479ace8cdb62dff" name="ga72ce389bb20296771479ace8cdb62dff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72ce389bb20296771479ace8cdb62dff">&#9670;&nbsp;</a></span>flash_wait_for_last_operation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_wait_for_last_operation </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until Last Operation has Ended. </p>
<p >This loops indefinitely until an operation (write or erase) has completed by testing the busy flag. </p>

<p class="definition">Definition at line <a class="el" href="flash__common__f01_8c_source.html#l00064">64</a> of file <a class="el" href="flash__common__f01_8c_source.html">flash_common_f01.c</a>.</p>

<p class="reference">References <a class="el" href="flash_8c_source.html#l00189">flash_get_status_flags()</a>, and <a class="el" href="f1_2flash_8h_source.html#l00085">FLASH_SR_BSY</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash_8c_source.html#l00284">flash_erase_all_pages()</a>, <a class="el" href="flash__common__f01_8c_source.html#l00096">flash_erase_option_bytes()</a>, <a class="el" href="flash_8c_source.html#l00252">flash_erase_page()</a>, <a class="el" href="flash_8c_source.html#l00218">flash_program_half_word()</a>, and <a class="el" href="flash__common__f01_8c_source.html#l00123">flash_program_option_bytes()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga72ce389bb20296771479ace8cdb62dff_cgraph.png" border="0" usemap="#agroup__flash__file_ga72ce389bb20296771479ace8cdb62dff_cgraph" alt=""/></div>
<map name="agroup__flash__file_ga72ce389bb20296771479ace8cdb62dff_cgraph" id="agroup__flash__file_ga72ce389bb20296771479ace8cdb62dff_cgraph">
<area shape="rect" title="Wait until Last Operation has Ended." alt="" coords="5,5,149,47"/>
<area shape="rect" href="group__flash__file.html#ga5afd52a33a55a6423d536eca1f04933b" title="Read All Status Flags." alt="" coords="197,13,364,39"/>
<area shape="rect" href="desig__common__v1_8c.html#a3dd3e16f359d093b546f5c9e3cde1957" title="Read the on board flash size." alt="" coords="412,13,568,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__file_ga72ce389bb20296771479ace8cdb62dff_icgraph.png" border="0" usemap="#agroup__flash__file_ga72ce389bb20296771479ace8cdb62dff_icgraph" alt=""/></div>
<map name="agroup__flash__file_ga72ce389bb20296771479ace8cdb62dff_icgraph" id="agroup__flash__file_ga72ce389bb20296771479ace8cdb62dff_icgraph">
<area shape="rect" title="Wait until Last Operation has Ended." alt="" coords="443,115,587,157"/>
<area shape="rect" href="group__flash__file.html#gaf1804e22fb8a901f3a5f85535aa1ff7b" title="Erase All FLASH." alt="" coords="219,5,384,32"/>
<area shape="rect" href="group__flash__file.html#ga6242ed6be7838125093c9b8b6adeeca1" title="Erase All Option Bytes." alt="" coords="229,57,373,98"/>
<area shape="rect" href="group__flash__file.html#ga0aee649731aaa8c1316c12f5bea7c31b" title="Erase a Page of FLASH." alt="" coords="234,123,369,149"/>
<area shape="rect" href="group__flash__file.html#gaf5077b5726c70fa9418db9d73182f89d" title="Program a Half Word to FLASH." alt="" coords="208,173,395,200"/>
<area shape="rect" href="group__flash__file.html#gab759a6e89a54cfb15a60c0e8f4eb66df" title="Program the Option Bytes." alt="" coords="220,225,383,266"/>
<area shape="rect" href="group__flash__file.html#ga73937aa6df8710e95425b165730626a2" title="Program a 32 bit Word to FLASH." alt="" coords="5,173,160,200"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Mar 7 2023 16:11:24 for libopencm3 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
